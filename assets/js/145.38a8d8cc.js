(window.webpackJsonp=window.webpackJsonp||[]).push([[145],{580:function(t,s,n){"use strict";n.r(s);var a=n(2),e=Object(a.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("p",[t._v("æœ¬è®²æˆ‘ä»¬ç»§ç»­æ·±å…¥ Go è¯­è¨€çš„å¹¶å‘ã€‚")]),t._v(" "),s("p",[t._v("åœ¨å‰é¢çš„ç¤ºä¾‹ä¸­ï¼Œå¯¹å¾…åç¨‹ä»»åŠ¡çš„æ€åº¦æ˜¯â€œæ”¾ä»»è‡ªæµâ€çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸€ä¸ªåç¨‹è¢«å¼€å¯åï¼Œæˆ‘ä»¬ä¾¿ä¸å†ç®¡å®ƒï¼Œè®©å®ƒè‡ªç”Ÿè‡ªç­ï¼Œæœ€å¤šæ˜¯ä¸ºå…¶å®ƒä»»åŠ¡è®©è¡Œæˆ–ç»ˆæ­¢è¿è¡Œã€‚ä½†åœ¨å®é™…å¼€å‘ä¸­ï¼Œåç¨‹ä»»åŠ¡ä¹‹é—´å¸¸å¸¸ä¼šå‘ç”Ÿé€šä¿¡ã€‚")]),t._v(" "),s("p",[t._v("ä¸¾ä¾‹æ¥è¯´ï¼Œç°æœ‰åç¨‹ A å’Œåç¨‹ Bï¼ŒäºŒè€…éƒ½å¤„äºè¿è¡ŒçŠ¶æ€ã€‚åç¨‹ B ä¸­çš„æŸäº›é€»è¾‘éœ€è¦åç¨‹ A çš„æ‰§è¡Œç»“æœä½œä¸ºè¾“å…¥æ¡ä»¶ï¼Œæ­¤æ—¶å°±æ€¥éœ€å°†è¿™äº›ç»“æœæ•°æ®ä»åç¨‹ A ä¼ é€’ç»™åç¨‹ B äº†ã€‚ç”±æ­¤ä¾¿å¼•å‡ºä¸€ä¸ªé—®é¢˜ï¼šå¦‚ä½•åœ¨å¹¶å‘ä»»åŠ¡ä¹‹é—´è¿›è¡Œ"),s("strong",[t._v("æ•°æ®å…±äº«")]),t._v("ã€‚")]),t._v(" "),s("h2",{attrs:{id:"cspå¹¶å‘æ¨¡å‹"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#cspå¹¶å‘æ¨¡å‹"}},[t._v("#")]),t._v(" CSPå¹¶å‘æ¨¡å‹")]),t._v(" "),s("p",[t._v("çºµè§‚ç¼–ç¨‹é¢†åŸŸï¼Œåœ¨å¤šä»»åŠ¡ä¹‹é—´å…±äº«æ•°æ®çš„æ–¹å¼ä¸»è¦åˆ†ä¸ºä¸¤ç§ã€‚")]),t._v(" "),s("p",[t._v("ä¸€ç§æ˜¯"),s("strong",[t._v("å¤šçº¿ç¨‹ä»»åŠ¡ä¹‹é—´çš„å†…å­˜å…±äº«")]),t._v("ï¼Œè¿™ç§æ–¹å¼çš„ä»£è¡¨æ˜¯ Javaã€C++ã€Python ç­‰è¯­è¨€ä¸­çš„å¤šçº¿ç¨‹å¼€å‘ï¼Œè¿™ç§æ–¹å¼æ™®éè¦é€šè¿‡â€œé”â€æ¥ç¡®ä¿æ•°æ®å®‰å…¨ã€‚")]),t._v(" "),s("p",[t._v("å¦ä¸€ç§ä¾¿æ˜¯ Go è¯­è¨€æå€¡çš„ "),s("strong",[t._v("CSP æ¨¡å‹")]),t._v("æ–¹å¼ï¼Œè¿™ç§æ–¹å¼çš„æ ¸å¿ƒæ€æƒ³åœ¨äº"),s("strong",[t._v("ä»¥é€šä¿¡çš„æ–¹å¼å…±äº«å†…å­˜æ•°æ®")]),t._v("ã€‚")]),t._v(" "),s("p",[t._v("è¿™ä¸¤ç§æ•°æ®å…±äº«çš„åŒºåˆ«ä¸»è¦åœ¨äºå‰è€…æ˜¯å…±äº«å†…å­˜å®ç°é€šä¿¡ï¼Œåè€…æ˜¯é€šè¿‡é€šä¿¡å…±äº«å†…å­˜ã€‚åœ¨ Effective Go ä¸­ï¼Œè°ˆåŠå¹¶å‘æ—¶æœ‰è¿™æ ·ä¸€å¥åŸæ–‡ï¼š")]),t._v(" "),s("blockquote",[s("p",[t._v("Do not communicate by sharing memory; instead, share memory by communicating.")])]),t._v(" "),s("p",[t._v("è¯´çš„å°±æ˜¯è¿™ä¸ªæ„æ€ã€‚")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("ğŸ’¡ æç¤ºï¼šGoè¯­è¨€å¹¶éåªå…è®¸CSPæ–¹å¼å¹¶å‘ï¼Œå®ƒåŒæ ·æ”¯æŒä¼ ç»Ÿçš„å¤šçº¿ç¨‹ä»»åŠ¡è°ƒåº¦æ–¹å¼ã€‚\n")])])]),s("p",[t._v("éšç€å¯¹ Go å¹¶å‘é¢†ä¼šçš„é€æ¸æ·±å…¥ï¼Œä½¿ç”¨å¾—è¶Šæ¥è¶Šé¢‘ç¹ï¼Œä¾¿ä¼šé‡åˆ°ä½¿ç”¨ Goroutine çš„ä¸‰ä¸ªâ€œé™·é˜±â€ï¼š")]),t._v(" "),s("ol",[s("li",[s("strong",[t._v("Goroutine Leaksï¼ˆåç¨‹ä»»åŠ¡æ³„éœ²ï¼‰")])]),t._v(" "),s("li",[s("strong",[t._v("Data Raceï¼ˆæ•°æ®ç«äº‰ï¼‰")])]),t._v(" "),s("li",[s("strong",[t._v("Incomplete Workï¼ˆæœªå®Œæˆçš„ä»»åŠ¡ï¼‰")])])]),t._v(" "),s("p",[t._v("é’ˆå¯¹ä¸Šè¿° 1 å’Œ 3ï¼Œè§„é¿çš„æ–¹å¼å°±æ˜¯"),s("strong",[t._v("ç¡®ä¿æ¯ä¸€ä¸ªåç¨‹ä»»åŠ¡å¯ä»¥æ­£å¸¸ç»“æŸ")]),t._v("ã€‚å¦‚æœä¸€ä¸ªåç¨‹è¿è¡Œå¤±æ§ï¼Œä¾¿ä¼šé•¿æœŸé©»ç•™åœ¨å†…å­˜ä¸­ï¼Œå¯¼è‡´ç³»ç»Ÿèµ„æºçš„æµªè´¹ï¼Œå‡ºç°é™·é˜± 1ã€‚æˆ–è€…è¯¥æ‰§è¡Œçš„ä»»åŠ¡æ²¡æœ‰å®Œå…¨å®Œæˆï¼Œå¯¼è‡´é™·é˜± 3ã€‚")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("ğŸ’¡ æç¤ºï¼šæƒ³æƒ³å¦‚ä½•ç»ˆæ­¢åç¨‹ä»»åŠ¡ï¼Œæƒ³æƒ³åç¨‹ä¸­çš„ defer çš„ä½¿ç”¨ã€‚\n")])])]),s("p",[t._v("é’ˆå¯¹ä¸Šè¿° 2ï¼Œè§„é¿çš„æ–¹å¼ä¾¿æ˜¯"),s("strong",[t._v("é€šè¿‡ä¼ é€’æ•°æ®çš„æ–¹å¼å…±äº«æ•°æ®ï¼Œè€Œéç›´æ¥æ“ä½œæŸä¸ªå…¬å…±å˜é‡")]),t._v("ï¼Œä»è€Œè§„é¿æ•°æ®ç«äº‰ã€‚")]),t._v(" "),s("p",[t._v("åç¨‹ä»»åŠ¡ä¹‹é—´ä¼ é€’æ•°æ®éœ€è¦å€ŸåŠ©é€šé“ï¼ˆChannelï¼‰æ¥å®Œæˆã€‚")]),t._v(" "),s("h2",{attrs:{id:"é€šé“-channel-ç±»å‹"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#é€šé“-channel-ç±»å‹"}},[t._v("#")]),t._v(" é€šé“ï¼ˆChannelï¼‰ç±»å‹")]),t._v(" "),s("p",[t._v("ä»æœ¬è´¨ä¸Šè¯´ï¼Œ"),s("strong",[t._v("Go è¯­è¨€ä¸­çš„é€šé“ï¼ˆChannelï¼‰ä¹Ÿæ˜¯ä¸€ç§ç±»å‹")]),t._v("ï¼Œåªä¸è¿‡åœ¨ä½¿ç”¨æ—¶æœ‰äº›ç‰¹æ®Šï¼Œç¨åä¼šè¯¦è¿°ã€‚ä»åˆ†ç±»ä¸Šçœ‹ï¼Œå¯å°†å…¶åˆ†ä¸ºä¸¤ç§ã€‚"),s("strong",[t._v("ä¸€ç§æ˜¯åŒæ­¥é€šé“ï¼Œå¦ä¸€ç§æ˜¯ç¼“å†²é€šé“")]),t._v("ã€‚")]),t._v(" "),s("p",[t._v("åŒæ­¥é€šé“æœ‰ç‚¹ç±»ä¼¼äºé€å¤–å–çš„è¿‡ç¨‹ã€‚è‹¥å¤–å–å°å“¥å’Œç‚¹é¤é¡¾å®¢åˆ†åˆ«ä¸ºåç¨‹ A å’Œåç¨‹ Bï¼Œåªæœ‰å½“åç¨‹ A æŠŠæ•°æ®ï¼ˆå³å¤–å–ï¼‰é€ç»™åç¨‹ Bï¼ˆå³é¡¾å®¢ï¼‰ï¼Œåç¨‹ B æ‰èƒ½å¼€å§‹æ‰§è¡Œåç»­çš„æ“ä½œï¼ˆå³åƒå¤–å–ï¼‰ã€‚å¦åˆ™ï¼Œåç¨‹ B åªèƒ½ä¸€ç›´ç­‰å¾…æ•°æ®ï¼ˆå³å¤–å–ï¼‰çš„åˆ°æ¥ã€‚")]),t._v(" "),s("p",[t._v("ç¼“å†²é€šé“åˆ™æœ‰ç‚¹ç±»ä¼¼äºé€å¿«é€’çš„è¿‡ç¨‹ã€‚è‹¥å¿«é€’å‘˜å’Œæ”¶ä»¶äººåˆ†åˆ«ä¸ºåç¨‹ A å’Œåç¨‹ Bï¼Œåç¨‹ A å¯ä»¥æŠŠæ•°æ®ï¼ˆå³å¿«é€’ï¼‰æ”¾åˆ°ç¼“å†²åŒºï¼ˆå³èœé¸Ÿé©¿ç«™ï¼‰ã€‚å½“åç¨‹ B éœ€è¦æ—¶ï¼Œåªè¦å»ç¼“å†²åŒºï¼ˆå³èœé¸Ÿé©¿ç«™ï¼‰ä¸­å–æ•°æ®ï¼ˆå³å¿«é€’ï¼‰å³å¯ã€‚")]),t._v(" "),s("p",[t._v("å€¼å¾—ä¸€æçš„æ˜¯ï¼Œç¼“å†²åŒºå’Œèœé¸Ÿé©¿ç«™çœŸçš„å¾ˆåƒï¼Œå®ƒä»¬éƒ½æœ‰æœ€å¤§å®¹é‡é™åˆ¶ã€‚ä¸€æ—¦åç¨‹ A å‘ç°ç¼“å†²åŒºï¼ˆå³èœé¸Ÿé©¿ç«™ï¼‰æ»¡äº†ï¼Œå°±ä¸å¾—ä¸ç­‰å¾…æ•°æ®ï¼ˆå³å¿«é€’ï¼‰è¢«å–èµ°ï¼Œæ‰èƒ½å°†æ•°æ®ï¼ˆå³å¿«é€’ï¼‰æ”¾åˆ°ç©ºä½™çš„ä½ç½®ä¸­ã€‚")]),t._v(" "),s("p",[t._v("åŒæ­¥å’Œç¼“å†²ï¼Œè¿™ä¸¤ç§æ–¹å¼å­°ä¼˜å­°åŠ£å‘¢ï¼Ÿå…¶å®å¹¶æ²¡æœ‰ç‰¹åˆ«æ˜ç¡®çš„å®šè®ºï¼Œæˆ‘ä»¬åªè¦æ ¹æ®å®é™…æƒ…å†µï¼Œé€‰æ‹©åˆé€‚çš„æ–¹å¼å°±æ˜¯æœ€ä¼˜çš„ã€‚")]),t._v(" "),s("p",[t._v("ç¯‡å¹…æ‰€é™ï¼Œæœ¬è®²å…ˆä»‹ç»è¾ƒä¸ºç®€å•çš„åŒæ­¥é€šé“ï¼Œä¸‹ä¸€è®²å†ä»‹ç»ç¼“å†²é€šé“ä»¥åŠæ›´å¤šå†…å®¹ã€‚")]),t._v(" "),s("h2",{attrs:{id:"åŒæ­¥é€šé“"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#åŒæ­¥é€šé“"}},[t._v("#")]),t._v(" åŒæ­¥é€šé“")]),t._v(" "),s("p",[t._v("ç†è®ºéƒ¨åˆ†åˆ°æ­¤ä¸ºæ­¢ï¼Œæ¥ä¸‹æ¥å®é™…æ¼”ç»ƒã€‚æˆ‘ä»¬ä¸€èµ·å®ç°å¦‚ä¸‹ç¼–ç¨‹éœ€æ±‚ï¼š")]),t._v(" "),s("p",[t._v("å‡è®¾æˆ‘ä»¬æ­£åœ¨é¥²å…»ä¸€åªæ¯é¸¡ï¼Œç­‰å¾…å…¶ä¸‹è›‹ã€‚æ¯ä¸‹ä¸€ä¸ªè›‹ï¼Œæˆ‘ä»¬å°±æ‹¿æ¥åšè·åŒ…è›‹åƒã€‚")]),t._v(" "),s("p",[t._v("ä¸ºäº†ä½¿ç”¨åŒæ­¥é€šé“ï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸¤ä¸ªåç¨‹æ¥å®ç°ä¸Šè¿°éœ€æ±‚ã€‚åç¨‹ A ä»£è¡¨æ¯é¸¡ï¼Œå®ƒçš„ä½œç”¨æ˜¯äº§è›‹ï¼Œå¹¶å°†äº§è›‹çš„æ•°é‡ä¼ ç»™åç¨‹ Bï¼Œæˆ‘ä»¬å°†åç¨‹ A çš„ä»£ç é€»è¾‘å°è£…æˆåä¸º layEggs() å‡½æ•°ã€‚åç¨‹ B è¡¨ç¤ºåƒè·åŒ…è›‹ï¼Œç­‰å¾…ä¼ å…¥å¯ç”¨çš„é¸¡è›‹æ•°é‡ï¼Œç„¶åè¾“å‡ºæ–‡å­—ï¼šâ€œåƒ x ä¸ªè·åŒ…è›‹â€ï¼ˆx è¡¨ç¤ºé¸¡è›‹æ•°é‡ï¼‰ã€‚æˆ‘ä»¬å°†åç¨‹Bçš„ä»£ç é€»è¾‘å°è£…æˆåä¸º eatEggs() å‡½æ•°ã€‚")]),t._v(" "),s("p",[t._v("å¦‚å‰æ–‡æ‰€è¿°ï¼Œé€šé“ï¼ˆChannelï¼‰ä¹Ÿæ˜¯ä¸€ç§æ•°æ®ç±»å‹ã€‚å› æ­¤ï¼Œä¸ºäº†è®© layEggs() å’Œ eatEggs() éƒ½èƒ½ä½¿ç”¨é€šé“ç±»å‹å˜é‡ï¼Œå°†é€šé“å£°æ˜ä¸ºå…¨å±€å…¬å…±å˜é‡ã€‚è¯¥é€šé“å°†ä¼ é€é¸¡è›‹çš„æ•°é‡ï¼Œå…¶ä¼ é€çš„æ•°æ®ç±»å‹æ˜¯ intï¼Œæ‰€ä»¥æˆ‘ä»¬æŠŠå®ƒå‘½åä¸º intChanã€‚å…·ä½“ä»£ç å®ç°å¦‚ä¸‹ï¼š")]),t._v(" "),s("div",{staticClass:"language-go extra-class"},[s("pre",{pre:!0,attrs:{class:"language-go"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("go")]),t._v("\nå¤åˆ¶ä»£ç "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" intChan "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("make")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("chan")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("int")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[t._v("è¿™å¥ä»£ç ä¸­ï¼Œ"),s("strong",[t._v("chan å³è¡¨æ˜é€šé“ç±»å‹ï¼Œç´§æ¥ç€çš„ int è¡¨ç¤ºé€šé“ä¸Šä¼ é€çš„æ•°æ®çš„ç±»å‹ã€‚make() çš„ç›®çš„åˆ™æ˜¯åˆ›å»ºé€šé“")]),t._v("ã€‚æœ€ç»ˆçš„ intChan å˜é‡å°±æ˜¯é€šé“ç±»å‹çš„å˜é‡äº†ã€‚å¦‚æœä½¿ç”¨ä¸‹é¢çš„ä»£ç è¾“å‡º intChan åŠå…¶ç±»å‹ï¼š")]),t._v(" "),s("div",{staticClass:"language-go extra-class"},[s("pre",{pre:!0,attrs:{class:"language-go"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("go")]),t._v("\nå¤åˆ¶ä»£ç "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("func")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("main")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   fmt"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Println")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("intChan"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n   fmt"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Println")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("reflect"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("TypeOf")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("intChan"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("å¯ä»¥å¾—åˆ°å¦‚ä¸‹ç»“æœï¼š")]),t._v(" "),s("blockquote",[s("p",[t._v("0xc00001a0c0")]),t._v(" "),s("p",[t._v("chan int")])]),t._v(" "),s("p",[t._v("æ¥ä¸‹æ¥å®ç° layEggs()å‡½æ•°ï¼Œè¯¥å‡½æ•°éœ€è¦å‘é€šé“ä¸­ä¼ å‡ºæ•°æ®ï¼Œæ–¹æ³•æ˜¯"),s("strong",[t._v("ä½¿ç”¨ç®­å¤´æ“ä½œç¬¦")]),t._v("ã€‚åœ¨ä¼ é€ç»“æŸåï¼Œ"),s("strong",[t._v("åˆ«å¿˜äº†è°ƒç”¨ close()å‡½æ•°å…³é—­é€šé“ï¼Œå…³é—­é€šé“æ—¶éœ€è¦æŒ‡å®šé€šé“")]),t._v("ã€‚å…·ä½“å®ç°ä»£ç å¦‚ä¸‹ï¼š")]),t._v(" "),s("div",{staticClass:"language-go extra-class"},[s("pre",{pre:!0,attrs:{class:"language-go"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("go")]),t._v("\nå¤åˆ¶ä»£ç "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("func")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("layEggs")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   intChan "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("close")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("intChan"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("å¦‚æ­¤ï¼Œä¾¿å¯å°† 1 é€šè¿‡ intChan ä¼ å‡ºã€‚")]),t._v(" "),s("p",[t._v("æ¥ç€ï¼Œå†æ¥å®ç° eatEggs() å‡½æ•°ã€‚è¯¥å‡½æ•°éœ€è¦ä»é€šé“ä¸­å–æ•°æ®ï¼Œæ–¹æ³•ä¾ç„¶æ˜¯"),s("strong",[t._v("ä½¿ç”¨ç®­å¤´æ“ä½œç¬¦")]),t._v("ï¼Œåªä¸è¿‡æ–¹å‘ä¸Šåˆšå¥½å’Œä¼ å‡ºæ•°æ®ç›¸åã€‚å…·ä½“å®ç°ä»£ç å¦‚ä¸‹ï¼š")]),t._v(" "),s("div",{staticClass:"language-go extra-class"},[s("pre",{pre:!0,attrs:{class:"language-go"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("go")]),t._v("\nå¤åˆ¶ä»£ç "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("func")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("eatEggs")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("intChan "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("chan")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("int")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   eggCounts "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<-")]),t._v("intChan\n   fmt"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Printf")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"åƒ%dä¸ªè·åŒ…è›‹"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" eggCounts"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("è¿™é‡Œçš„ eggCounts ä¾¿æ˜¯ int å‹æ•°æ®äº†ã€‚è¯·æ³¨æ„è¿™é‡Œçš„ç®­å¤´æ“ä½œç¬¦ï¼Œè™½ç„¶çœ‹ä¸Šå»å’Œä¼ å‡ºæ•°æ®çš„æ–¹å‘ç›¸åŒï¼Œä½†ç”±äºä¸»ä½“è§’è‰²å‘ç”Ÿäº†è½¬å˜ï¼Œå®é™…ä¸Šæ˜¯ç›¸åçš„ã€‚ä½†ä¸èƒ½å°† â€œ<-â€ æ”¹ä¸º â€œ->â€ ã€‚")]),t._v(" "),s("p",[t._v("æœ€åï¼Œæ•´åˆè¿™ä¸¤ä¸ªå‡½æ•°ï¼Œå®Œå–„ main() å‡½æ•°ï¼Œå¹¶ä½¿ç”¨ sync.WaitGroup ç±»å‹å˜é‡ç¡®ä¿åç¨‹ä»»åŠ¡èƒ½å¤Ÿå®Œå…¨æ‰§è¡Œã€‚æ•´ä½“ä»£ç å¦‚ä¸‹ï¼š")]),t._v(" "),s("div",{staticClass:"language-go extra-class"},[s("pre",{pre:!0,attrs:{class:"language-go"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("go")]),t._v("\nå¤åˆ¶ä»£ç "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" syncWait sync"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("WaitGroup\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åˆ›å»ºé€šé“ç±»å‹å˜é‡ï¼Œè¯¥é€šé“å°†ä¼ é€intç±»å‹æ•°æ®")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" intChan "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("make")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("chan")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("int")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("func")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("main")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ‰§è¡Œ2ä¸ªåç¨‹ä»»åŠ¡")]),t._v("\n   syncWait"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Add")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¼€å¯ä¸‹è›‹ä»»åŠ¡")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("go")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("layEggs")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¼€å¯åƒè·åŒ…è›‹ä»»åŠ¡")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("go")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("eatEggs")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("intChan"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç­‰å¾…åç¨‹ä»»åŠ¡å®Œæˆ")]),t._v("\n   syncWait"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Wait")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("func")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("layEggs")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä½¿ç”¨æ–­è¨€ç¡®ä¿åç¨‹ä»»åŠ¡æ­£å¸¸ç»“æŸ")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("defer")]),t._v(" syncWait"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Done")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å‘é€šé“ä¼ é€intç±»å‹å€¼")]),t._v("\n   intChan "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å…³é—­é€šé“")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("close")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("intChan"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("func")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("eatEggs")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("intChan "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("chan")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("int")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä½¿ç”¨æ–­è¨€ç¡®ä¿åç¨‹ä»»åŠ¡æ­£å¸¸ç»“æŸ")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("defer")]),t._v(" syncWait"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Done")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä»é€šé“è·å–intç±»å‹å€¼")]),t._v("\n   eggCounts "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<-")]),t._v("intChan\n   "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è¾“å‡ºç»“æœ")]),t._v("\n   fmt"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Printf")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"åƒ%dä¸ªè·åŒ…è›‹"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" eggCounts"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("è¿è¡Œè¿™æ®µä»£ç ï¼Œç¨‹åºè¾“å‡ºï¼š")]),t._v(" "),s("blockquote",[s("p",[t._v("åƒ1ä¸ªè·åŒ…è›‹")])]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("â—ï¸ æ³¨æ„ï¼šä½¿ç”¨åŒæ­¥é€šé“æ—¶ï¼Œè¦ç¡®ä¿ä¼ å‡ºæ•°æ®å’Œè·å–æ•°æ®å¿…é¡»æˆå¯¹å‡ºç°ã€‚å¦å¤–ï¼Œä¸€æ—¦é€šé“è¢«å…³é—­ï¼Œä¾¿ä¸èƒ½å†å‘å…¶ä¸­ä¼ å‡ºæ•°æ®äº†ã€‚\n")])])]),s("h2",{attrs:{id:"å°ç»“"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å°ç»“"}},[t._v("#")]),t._v(" å°ç»“")]),t._v(" "),s("p",[t._v("ğŸ‰ æ­å–œï¼Œæ‚¨å®Œæˆäº†æœ¬æ¬¡è¯¾ç¨‹çš„å­¦ä¹ ï¼")]),t._v(" "),s("p",[t._v("ğŸ“Œ ä»¥ä¸‹æ˜¯æœ¬æ¬¡è¯¾ç¨‹çš„é‡ç‚¹å†…å®¹æ€»ç»“ï¼š")]),t._v(" "),s("ol",[s("li",[t._v("Go å¹¶å‘çš„ CSP å¹¶å‘æ¨¡å‹ï¼›")]),t._v(" "),s("li",[t._v("é€šé“ï¼ˆChannelï¼‰ç±»å‹ï¼›")]),t._v(" "),s("li",[t._v("åŒæ­¥é€šé“çš„ä½¿ç”¨ã€‚")])]),t._v(" "),s("p",[t._v("æœ¬è®²é¦–å…ˆå¿«é€Ÿå›é¡¾äº†å¤šä»»åŠ¡è°ƒåº¦çš„ä¸¤ç§ç±»å‹ï¼Œå¹¶è¯¦ç»†é˜è¿°äº† Go è¯­è¨€æ¨èçš„ CSP å¹¶å‘æ¨¡å‹çš„æœºåˆ¶ã€‚å®ƒä»¬æœ€å¤§çš„åŒºåˆ«åœ¨äºï¼šä½¿ç”¨å¤šçº¿ç¨‹æœ¬è´¨ä¸Šæ˜¯é€šè¿‡å…±äº«å†…å­˜å®ç°é€šä¿¡ï¼ŒCSP æ¨¡å‹åˆ™æ˜¯é€šè¿‡é€šä¿¡å…±äº«å†…å­˜ã€‚æ­¤å¤–è¿˜ä»‹ç»äº†åœ¨ Go ä¸­ä½¿ç”¨å¹¶å‘çš„â€œæ­£ç¡®å§¿åŠ¿â€ï¼Œè§„é¿ä¸‰ç§ç¼–ç â€œé™·é˜±â€ã€‚ä»è€Œæ„å»ºå¼ºå£®çš„ä»£ç ã€‚")]),t._v(" "),s("p",[t._v("æ¥ç€ä»‹ç»äº† Go è¯­è¨€ä¸­çš„é€šé“ç±»å‹ï¼Œå®ƒå°±åƒâ€œä¼ é€å¸¦â€ä¸€æ ·ï¼Œå°†æ•°æ®ä»ä¸€ä¸ªåç¨‹å¸¦åˆ°å¦ä¸€ä¸ªåç¨‹ä¸­ï¼Œå®ç°æ•°æ®å…±äº«ã€‚")]),t._v(" "),s("p",[t._v("é€šé“åˆ†ä¸ºä¸¤ç§ï¼šåŒæ­¥é€šé“å’Œç¼“å†²é€šé“ã€‚ä½¿ç”¨åŒæ­¥é€šé“è¦æ±‚æ•°æ®çš„å‘é€è€…å’Œæ¥æ”¶è€…å¿…é¡»æˆå¯¹å‡ºç°ï¼Œä¼ é€æ—¶ä½¿ç”¨ç®­å¤´æ“ä½œç¬¦ï¼ˆâ€œ<-â€ï¼‰ã€‚ä¼ é€ç»“æŸåï¼Œåˆ«å¿˜äº†è°ƒç”¨ Go SDK å†…ç½®çš„ close å‡½æ•°å…³é—­é€šé“ï¼Œç»“æŸæ•´ä¸ªæ•°æ®ä¼ é€æµç¨‹ã€‚")]),t._v(" "),s("p",[t._v("â¡ï¸ åœ¨ä¸‹æ¬¡è¯¾ç¨‹ä¸­ï¼Œæˆ‘ä»¬ä¼šç»§ç»­ä»‹ç» Go è¯­è¨€ä¸­çš„å¹¶å‘ï¼Œæ¶‰åŠå¹¶å‘ä»»åŠ¡é—´çš„é€šä¿¡æ–¹å¼ï¼Œå†…å®¹å¦‚ä¸‹ï¼š")]),t._v(" "),s("ul",[s("li",[t._v("å¹¶å‘ä¸­çš„ Channel ä¸‹éƒ¨")])])])}),[],!1,null,null,null);s.default=e.exports}}]);