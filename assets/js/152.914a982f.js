(window.webpackJsonp=window.webpackJsonp||[]).push([[152],{586:function(t,s,a){"use strict";a.r(s);var n=a(2),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("p",[t._v("æœ¬è®²çš„ä¸»é¢˜æ˜¯ï¼šæ§åˆ¶åè½¬ä¸ä¾èµ–æ³¨å…¥ã€‚ä»åç§°ä¸Šçœ‹ï¼Œä¼¼ä¹å¾ˆâ€œé«˜å¤§ä¸Šâ€ã€‚ä¸Šä¸€è®²ç»“å°¾å¤„ä¹Ÿæåˆ°ï¼šè¿™å°†æ˜¯åå°„ä¸“é¢˜æœ€éš¾ä»¥ç†è§£çš„éƒ¨åˆ†ã€‚å…¶å®ï¼Œè¯´å®ƒéš¾ï¼Œä¸»è¦åŸå› æ˜¯å’Œå‰é¢æˆ‘ä»¬ä¸€ç›´ä½¿ç”¨çš„"),s("strong",[t._v("å‡½æ•°ï¼ˆæˆ–æ–¹æ³•ï¼‰è°ƒç”¨æ–¹å¼ä¸åŒ")]),t._v("ã€‚åªè¦è½¬æ¢äº†æ€ç»´ï¼Œç†è§£å’Œä½¿ç”¨èµ·æ¥å…¶å®å°±å¾ˆç®€å•äº†ã€‚")]),t._v(" "),s("h2",{attrs:{id:"äº†è§£æ¦‚å¿µ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#äº†è§£æ¦‚å¿µ"}},[t._v("#")]),t._v(" äº†è§£æ¦‚å¿µ")]),t._v(" "),s("p",[t._v("æˆ‘ä»¬å…ˆæ¥è¯´â€œæ§åˆ¶åè½¬â€ã€‚")]),t._v(" "),s("p",[t._v("è¯•æƒ³ä¸€ä¸‹ï¼Œç°æœ‰åä¸º test() çš„å‡½æ•°ï¼Œå¦‚ä¸‹ï¼š")]),t._v(" "),s("div",{staticClass:"language-go extra-class"},[s("pre",{pre:!0,attrs:{class:"language-go"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("go")]),t._v("\nå¤åˆ¶ä»£ç "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("func")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("test")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   fmt"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Println")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"æˆ‘è¢«è°ƒç”¨äº†ï¼"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("å¦‚æœè¦è°ƒç”¨è¯¥å‡½æ•°ï¼Œé€šå¸¸ä½¿ç”¨çš„æ–¹æ³•æ˜¯ç›´æ¥ä¸»åŠ¨å‘èµ·è°ƒç”¨ï¼Œå³ï¼š")]),t._v(" "),s("div",{staticClass:"language-go extra-class"},[s("pre",{pre:!0,attrs:{class:"language-go"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("go")]),t._v("\nå¤åˆ¶ä»£ç "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("test")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[t._v("å¾—åˆ°è¿è¡Œç»“æœï¼š")]),t._v(" "),s("blockquote",[s("p",[t._v("æˆ‘è¢«è°ƒç”¨äº†")])]),t._v(" "),s("p",[t._v("æ§åˆ¶åè½¬å°±æ˜¯å°†ä¸Šè¿°"),s("strong",[t._v("ä¸»åŠ¨è°ƒç”¨è¡Œä¸ºå˜æˆé—´æ¥è¡Œä¸º")]),t._v("ã€‚è¿™ç§é—´æ¥è°ƒç”¨çš„æ–¹å¼æ˜¯å¾ˆå¤šæ¡†æ¶çš„æ ¸å¿ƒè®¾è®¡ç†å¿µï¼Œå¦‚ Web æ¡†æ¶ Martini ç­‰ç­‰ã€‚å¦‚æœä½¿ç”¨è¿‡ç±»ä¼¼æ¡†æ¶ï¼Œæˆ–ç†Ÿæ‚‰ Java ä¸­çš„ Spring æ¡†æ¶çš„è¯å°±æ›´å®¹æ˜“ç†è§£ã€‚"),s("strong",[t._v("å‘èµ·ä¸»åŠ¨è°ƒç”¨çš„ä¸€æ–¹ä¸å†ç›´æ¥è°ƒç”¨æŸä¸ªå‡½æ•°ï¼Œè€Œæ˜¯é€šè¿‡æŸäº›é…ç½®ï¼Œå°†é…ç½®ä¿¡æ¯äº¤ç»™æ¡†æ¶ï¼Œè®©æ¡†æ¶å®Œæˆå‡½æ•°è°ƒç”¨")]),t._v("ã€‚æŸäº›é›†æˆæ¡†æ¶çš„ç¨‹åºç”šè‡³æ˜¯ç”±æ¡†æ¶é©±åŠ¨çš„ï¼Œä½¿ç”¨è¿™ç±»æ¡†æ¶æ„å»ºç¨‹åºçš„æ¨¡å¼è¢«ç§°ä¸ºâ€œæ§åˆ¶åè½¬â€ã€‚")]),t._v(" "),s("p",[t._v("æ§åˆ¶åè½¬çš„"),s("strong",[t._v("ä¸»è¦ä¼˜åŠ¿åœ¨äºè°ƒç”¨æ–¹å’Œæ‰§è¡Œæ–¹çš„è§£è€¦")]),t._v("ã€‚æ­£å¦‚å‰æ–‡ä¸­æ‰€è¿°ï¼Œè°ƒç”¨æ–¹å¯ä»¥é€šè¿‡å°†é…ç½®ä¿¡æ¯â€œå‘ŠçŸ¥â€æ¡†æ¶ï¼ŒåŠ¨æ€è°ƒç”¨å‡½æ•°ï¼Œä½¿ç¨‹åºè¿è¡Œæ›´åŠ è‡ªç”±ã€å¤šæ ·åŒ–ã€‚")]),t._v(" "),s("p",[s("strong",[t._v("ä¾èµ–æ³¨å…¥æ˜¯å®ç°æ§åˆ¶åè½¬çš„ä¸€ç§æ–¹æ³•")]),t._v("ã€‚ç©ºè°ˆæ§åˆ¶åè½¬æ²¡æœ‰å®é™…æ„ä¹‰ï¼Œä¾èµ–æ³¨å…¥å¯ä»¥è®©æ§åˆ¶åè½¬å˜æˆç°å®ã€‚")]),t._v(" "),s("h2",{attrs:{id:"ä¾èµ–æ³¨å…¥"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä¾èµ–æ³¨å…¥"}},[t._v("#")]),t._v(" ä¾èµ–æ³¨å…¥")]),t._v(" "),s("p",[t._v("é»˜è®¤å®‰è£…çš„ Go SDK å¹¶æ²¡æœ‰æä¾›ä¾èµ–æ³¨å…¥æ”¯æŒï¼Œéœ€è¦å¼•å…¥ç¬¬ä¸‰æ–¹åŒ…ï¼ˆæœ‰æ—¶ä¹Ÿå«åšåº“ã€æºç åŒ…ç­‰ç­‰ï¼‰æ¥è¿›è¡Œã€‚æœ¬è®²æ‰€é‡‡ç”¨çš„ç¬¬ä¸‰æ–¹åŒ…åä¸ºâ€œinjectâ€ï¼Œæºç ä½äº "),s("a",{attrs:{href:"https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2Fcodegangsta%2Finject",target:"_blank",rel:"noopener noreferrer"}},[t._v("Github"),s("OutboundLink")],1),t._v("ã€‚")]),t._v(" "),s("p",[t._v("è¿˜è®°å¾—æ€æ ·é›†æˆç¬¬ä¸‰æ–¹åŒ…å—ï¼Ÿæ²¡é”™ï¼Œä½¿ç”¨ go get å‘½ä»¤ã€‚")]),t._v(" "),s("p",[t._v("æ‰“å¼€ç»ˆç«¯ï¼Œå°†ç›®å½•å®šä½åˆ°å·¥ç¨‹æ ¹ç›®å½•ä¸‹ï¼Œæ‰§è¡Œï¼š")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("shell\nå¤åˆ¶ä»£ç go get github.com/codegangsta/inject\n")])])]),s("p",[t._v("ç¨ç­‰ç‰‡åˆ»ï¼Œè‹¥æ²¡æœ‰å¼‚å¸¸è¾“å‡ºä¸”ç»ˆç«¯å›åˆ°ç­‰å¾…è¾“å…¥å‘½ä»¤çŠ¶æ€ï¼Œåˆ™è¡¨ç¤ºåŒ…å¼•å…¥å®Œæˆã€‚")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("ğŸ’¡ æç¤ºï¼šç”±äºç½‘ç»œåŸå› ï¼Œç›´æ¥è®¿é—® Github å¯èƒ½ä¼šå¤±è´¥ã€‚è§£å†³æ–¹æ³•æ˜¯ä½¿ç”¨ä»£ç†è¿æ¥ä»£æ›¿ç›´æ¥è¿æ¥ï¼Œæ–¹æ³•æ˜¯åœ¨ç»ˆç«¯æ‰§è¡Œ go env -w GOPROXY=https://goproxy.cnï¼Œå³å¯ä½¿ç”¨ goproxy.cn ä½œä¸ºä»£ç†æœåŠ¡å™¨ã€‚\n")])])]),s("p",[t._v("æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬é€šè¿‡ä¾èµ–æ³¨å…¥çš„æ–¹å¼è°ƒç”¨å‰é¢çš„ test() å‡½æ•°ï¼Œå…·ä½“ä»£ç å¦‚ä¸‹ï¼š")]),t._v(" "),s("div",{staticClass:"language-go extra-class"},[s("pre",{pre:!0,attrs:{class:"language-go"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("go")]),t._v("\nå¤åˆ¶ä»£ç "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("func")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("main")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   injector "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":=")]),t._v(" inject"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("New")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n   injector"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Invoke")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("test"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("å¦‚ä¸Šä»£ç æ‰€ç¤ºï¼Œä½¿ç”¨ä¾èµ–æ³¨å…¥è°ƒç”¨å‡½æ•°éœ€è¦ä¸¤ä¸ªæ­¥éª¤ã€‚é¦–å…ˆè°ƒç”¨ "),s("strong",[t._v("inject.New()")]),t._v(" å‡½æ•°ï¼Œè¯¥å‡½æ•°å°†è¿”å›ä¸€ä¸ª Injector ç±»å‹å€¼ã€‚æœ¬ä¾‹å°†å…¶èµ‹å€¼ç»™ injector å˜é‡ã€‚éšåä¾¿å¯é€šè¿‡ injector æ‰§è¡Œ "),s("strong",[t._v("Invoke()")]),t._v(" æ–¹æ³•è°ƒç”¨ test() å‡½æ•°äº†ã€‚éœ€è¦æ³¨æ„çš„æ˜¯å‘ Invoke() æ–¹æ³•ä¼ é€’å‚æ•°æ—¶ï¼Œåªéœ€ä¼ å…¥"),s("strong",[t._v("ä¸å¸¦å°æ‹¬å·çš„æ–¹æ³•å")]),t._v("ã€‚")]),t._v(" "),s("p",[t._v("çœ‹åˆ°è¿™ï¼Œæ˜¯ä¸æ˜¯æ„Ÿè§‰æœ‰ç‚¹ç†Ÿæ‚‰å‘¢ï¼Ÿåœ¨ä¸Šä¸€è®²ä¸­ï¼Œè®²åˆ°é€šè¿‡åå°„è°ƒç”¨å‡½æ•°æ—¶ä¹Ÿæ˜¯è¿™æ ·é€šè¿‡æ–¹æ³•åè°ƒç”¨æ–¹æ³•çš„ã€‚å®é™…ä¸Šï¼Œ"),s("strong",[t._v("inject åŒ…å°±æ˜¯é€šè¿‡åå°„å®ç°çš„")]),t._v("ã€‚")]),t._v(" "),s("p",[t._v("æŒæ¡åŸºæœ¬çš„å‡½æ•°è°ƒç”¨åï¼Œæ¥ä¸‹æ¥å°±æ˜¯è°ƒç”¨æ—¶çš„ä¼ å‚å’Œæ¥æ”¶è¿”å›å€¼äº†ã€‚ä¼ å‚çš„è¿‡ç¨‹åˆè¢«ç§°ä¸ºæ³¨å…¥å‚æ•°çš„è¿‡ç¨‹ï¼Œinject æä¾›äº†æ³¨å…¥å‚æ•°çš„é€šç”¨æ–¹å¼ã€‚æ¯”å¦‚å–œé—»ä¹è§çš„ addCalc() å‡½æ•°ï¼š")]),t._v(" "),s("div",{staticClass:"language-go extra-class"},[s("pre",{pre:!0,attrs:{class:"language-go"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("go")]),t._v("\nå¤åˆ¶ä»£ç "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("type")]),t._v(" myInt "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("interface")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("func")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("addCalc")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("num1 "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("int")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" num2 myInt"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("int")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" num1 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" num2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("int")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("å¦‚ä¸Šä»£ç æ‰€ç¤ºï¼ŒaddCalc() éœ€è¦ä¸¤ä¸ªå‚æ•°ã€‚")]),t._v(" "),s("p",[t._v("inject è¦æ±‚"),s("strong",[t._v("ä½¿ç”¨ Map() å’Œ MapTo() æ–¹æ³•æ³¨å…¥å‚æ•°")]),t._v("ã€‚"),s("strong",[t._v("Invoke() æ–¹æ³•åŒ…å«ä¸¤ä¸ªè¿”å›å€¼ï¼Œä¸€ä¸ªæ˜¯åˆ‡ç‰‡ç±»å‹ï¼Œå­˜æ”¾çš„æ•°æ®æ˜¯ reflect.Valueï¼Œå³å‡½æ•°è¿”å›å€¼ï¼›å¦ä¸€ä¸ªæ˜¯åŒ…å«é”™è¯¯ä¿¡æ¯çš„ error ç±»å‹æ•°æ®ï¼Œè‹¥è¯¥æ•°æ®ä¸ä¸º nilï¼Œåˆ™è¡¨ç¤ºå‡½æ•°è°ƒç”¨å‘ç”Ÿäº†é”™è¯¯")]),t._v("ã€‚")]),t._v(" "),s("p",[t._v("å¯¹äºæœ¬ä¾‹ï¼Œè°ƒç”¨ addCalc() å‡½æ•°çš„æµç¨‹å°±æ˜¯å…ˆè¿›è¡Œå‚æ•°æ³¨å…¥ï¼Œå†é€šè¿‡ä¾èµ–åè½¬å‘èµ·è°ƒç”¨ï¼Œæœ€åä»è°ƒç”¨ç»“æœä¸­è·å–å‡½æ•°æ‰§è¡Œçš„è¿”å›å€¼ã€‚å…·ä½“ä»£ç å¦‚ä¸‹ï¼š")]),t._v(" "),s("div",{staticClass:"language-go extra-class"},[s("pre",{pre:!0,attrs:{class:"language-go"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("go")]),t._v("\nå¤åˆ¶ä»£ç "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("func")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("main")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   injector "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":=")]),t._v(" inject"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("New")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n   injector"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Map")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n   injector"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("MapTo")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("myInt"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("nil")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n   result"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" err "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":=")]),t._v(" injector"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Invoke")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("addCalc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" err "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("nil")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      fmt"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Println")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("result"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("panic")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("err"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("ç¨‹åºè¿è¡Œåï¼Œæ§åˆ¶å°å°†è¾“å‡ºï¼š")]),t._v(" "),s("blockquote",[s("p",[t._v("30")])]),t._v(" "),s("p",[t._v("å¯¹äºè·å–å‡½æ•°è¿”å›å€¼ï¼Œç›¸ä¿¡å¤§å®¶éƒ½èƒ½çœ‹å¾—åˆ°ã€‚ä½†æ˜¯æ³¨å…¥å‚æ•°çš„ä¸¤è¡Œä»£ç å°±æœ‰ç–‘é—®äº†ï¼šä¸ºä»€ä¹ˆè¦ç”¨ Map() å’Œ MapTo() ä¸¤ä¸ªæ–¹æ³•ï¼Œç”¨ä¸¤æ¬¡ Map() ä¸ºä½•ä¸å¯ï¼Ÿä¸ºä»€ä¹ˆåœ¨ addCalc() å‡½æ•°ä¸­ï¼Œæ˜æ˜ç”¨ä¸¤ä¸ª int å€¼ä½œä¸ºå‚æ•°å°±è¡Œï¼Œå´è¦ç”¨ä¸€ä¸ª myInt ç±»å‹ï¼Ÿä¸ºä»€ä¹ˆ myInt ç±»å‹å¾—æ˜¯ interface{} å‘¢â€¦â€¦")]),t._v(" "),s("p",[t._v("æˆ‘ä»¬ä¸å¦¨å°† MapTo() æ¢ä¸º Map()ï¼ŒåŒæ—¶ä¿®æ”¹ addCalc() çš„å‚æ•°å’Œå‡½æ•°ä½“ï¼Œå³ï¼š")]),t._v(" "),s("div",{staticClass:"language-go extra-class"},[s("pre",{pre:!0,attrs:{class:"language-go"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("go")]),t._v("\nå¤åˆ¶ä»£ç "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("func")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("addCalc")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("num1 "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("int")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" num2 "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("int")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("int")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" num1 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" num2\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("func")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("main")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   injector "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":=")]),t._v(" inject"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("New")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n   injector"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Map")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n   injector"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Map")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n   result"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" err "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":=")]),t._v(" injector"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Invoke")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("addCalc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" err "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("nil")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      fmt"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Println")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("result"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("panic")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("err"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("å†æ¬¡è¿è¡Œè¿™æ®µç¨‹åºï¼Œæ§åˆ¶å°å°†è¾“å‡ºï¼š")]),t._v(" "),s("blockquote",[s("p",[t._v("40")])]),t._v(" "),s("p",[t._v("æ˜¯ä¸æ˜¯æ›´åŠ è¿·æƒ‘äº†ï¼Ÿå¦‚æœåœ¨ addCalc() å‡½æ•°ä¸­è¾“å‡º num1 å’Œ num2 çš„å€¼ï¼Œä¼šå‘ç°å®ƒä»¬éƒ½æ˜¯å±…ç„¶éƒ½æ˜¯ 20ï¼è¿™åˆ°åº•æ˜¯æ€ä¹ˆä¸€å›äº‹å‘¢ï¼Ÿ")]),t._v(" "),s("h2",{attrs:{id:"ä¾èµ–æ³¨å…¥åŸç†"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä¾èµ–æ³¨å…¥åŸç†"}},[t._v("#")]),t._v(" ä¾èµ–æ³¨å…¥åŸç†")]),t._v(" "),s("p",[t._v("è¦è§£ç­”ä¸Šé¢çš„é—®é¢˜ï¼Œå°±è¦æ·±å…¥ inject æºç å±‚é¢äº†ã€‚å¥½åœ¨ inject åŒ…è¾ƒä¸ºç®€å•ï¼Œåªéœ€å…³æ³¨ inject.go å³å¯ã€‚")]),t._v(" "),s("p",[t._v("ä»ä¸€å¼€å§‹çš„ import éƒ¨åˆ†å¯ä»¥çœ‹å‡ºï¼Œæ•´ä¸ª inject æºç åªå¯¼å…¥äº†ä¸¤ä¸ª Go å†…ç½®åŒ…ï¼šfmt å’Œ reflectã€‚ä»è¿™ä¸€ç‚¹å¯ä»¥çœ‹å‡ºï¼š"),s("strong",[t._v("ä¾èµ–æ³¨å…¥çš„å®ç°ä»¥åå°„ï¼ˆreflectï¼‰ä¸ºåŸºç¡€")]),t._v("ã€‚")]),t._v(" "),s("p",[t._v("ç´§æ¥ç€çš„æ˜¯ 4 ä¸ªæ¥å£å®šä¹‰ï¼š")]),t._v(" "),s("div",{staticClass:"language-go extra-class"},[s("pre",{pre:!0,attrs:{class:"language-go"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("go")]),t._v("\nå¤åˆ¶ä»£ç "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("type")]),t._v(" Injector "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("interface")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   Applicator\n   Invoker\n   TypeMapper\n   "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("SetParent")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Injector"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("type")]),t._v(" Applicator "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("interface")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Apply")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("interface")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("error")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("type")]),t._v(" Invoker "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("interface")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Invoke")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("interface")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("reflect"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("error")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("type")]),t._v(" TypeMapper "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("interface")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Map")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("interface")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" TypeMapper\n   "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("MapTo")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("interface")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("interface")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" TypeMapper\n   "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Set")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("reflect"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Type"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" reflect"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" TypeMapper\n   "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Get")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("reflect"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Type"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" reflect"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Value\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("æ˜¾ç„¶ï¼Œ"),s("strong",[t._v("Injector æ¥å£æ˜¯ Applicatorã€Invoker å’Œ TypeMapper çš„çˆ¶æ¥å£")]),t._v("ã€‚Applicator æ¥å£å†…éƒ¨åŒ…å« "),s("strong",[t._v("Apply() å‡½æ•°ï¼Œç”¨äºæ³¨å…¥ç»“æ„ä½“å†…æˆå‘˜")]),t._v("ï¼›Invoker æ¥å£å†…éƒ¨åŒ…å« "),s("strong",[t._v("Invoke() å‡½æ•°ï¼Œç”¨äºè°ƒç”¨å‡½æ•°")]),t._v("ï¼›TypeMapper() æ¥å£ä¸­åŒ…å« 4 ä¸ªå‡½æ•°ï¼Œå‰ 3 ä¸ªå‡½æ•°éƒ½ç”¨äºå‘å‡½æ•°æˆ–æ–¹æ³•ä¸­æ³¨å…¥å‚æ•°ï¼Œ"),s("strong",[t._v("Get() å‡½æ•°ç”¨äºè·å–æ³¨å…¥çš„å‚æ•°")]),t._v("ã€‚è¦åŒºåˆ†å‰ 3 ä¸ªå‡½æ•°çš„å…·ä½“ä¸åŒï¼Œè¿˜è¦ä»å®ƒä»¬å„è‡ªçš„å®ç°è°ˆèµ·ã€‚")]),t._v(" "),s("div",{staticClass:"language-go extra-class"},[s("pre",{pre:!0,attrs:{class:"language-go"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("go")]),t._v("\nå¤åˆ¶ä»£ç "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("func")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("i "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("injector"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Map")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("val "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("interface")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" TypeMapper "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   i"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("values"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("reflect"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("TypeOf")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("val"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" reflect"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("ValueOf")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("val"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" i\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("func")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("i "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("injector"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("MapTo")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("val "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("interface")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ifacePtr "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("interface")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" TypeMapper "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   i"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("values"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("InterfaceOf")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ifacePtr"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" reflect"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("ValueOf")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("val"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" i\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("func")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("i "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("injector"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Set")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("typ reflect"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Type"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" val reflect"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" TypeMapper "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   i"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("values"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("typ"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" val\n   "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" i\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("å¯ä»¥çœ‹åˆ°ï¼Œè¿™ä¸‰ä¸ªå‡½æ•°éƒ½ä¼š"),s("strong",[t._v("é€šè¿‡ injector ç±»å‹çš„å˜é‡æ¥è°ƒç”¨ï¼Œæ˜¯ injector ç±»å‹çš„æ–¹æ³•")]),t._v("ã€‚å†çœ‹ injector ç±»å‹ï¼Œå®ƒæ˜¯å®šä¹‰åœ¨æºç ä¸­çš„å”¯ä¸€ä¸€ä¸ªç»“æ„ä½“ï¼Œå…·ä½“å¦‚ä¸‹ï¼š")]),t._v(" "),s("div",{staticClass:"language-go extra-class"},[s("pre",{pre:!0,attrs:{class:"language-go"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("go")]),t._v("\nå¤åˆ¶ä»£ç "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("type")]),t._v(" injector "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("struct")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   values "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("map")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("reflect"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Type"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("reflect"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Value\n   parent Injector\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("çœ‹åˆ°è¿™é‡Œï¼Œæˆ‘ä»¬çŒœåˆ°äº†è°œåº•ã€‚"),s("strong",[t._v("injector å†…éƒ¨çš„ values æˆå‘˜ï¼Œç±»å‹æ˜¯ map")]),t._v("ã€‚è€Œ map æœ¬èº«æ˜¯é”®-å€¼ï¼ˆKey - Valueï¼‰å¯¹ç»“æ„ï¼Œå…¶ä¸­é”®ä¸å…è®¸é‡å¤å‡ºç°ã€‚å½“æˆ‘ä»¬å¯¹åŒä¸€ä¸ªé”®åå¤èµ‹å€¼æ—¶ï¼Œæ—§çš„å€¼å°†ä¼šè¢«æ–°çš„å€¼è¦†ç›–ã€‚ç»“åˆ Map() æ–¹æ³•çš„å®ç°å’Œæœ¬ä¾‹çš„ addCalc() å‡½æ•°çœ‹ï¼Œå¦‚æœåœ¨æ³¨å…¥å‚æ•°æ—¶å¤šæ¬¡è°ƒç”¨ Map() æ–¹æ³•åå¤æ³¨å…¥ int ç±»å‹å€¼ï¼ˆå³ 10 å’Œ 20ï¼‰ï¼Œæœ€æ—©æ³¨å…¥çš„å€¼ï¼ˆ10ï¼‰ä¼šè¢«ä¹‹åæ³¨å…¥çš„å€¼ï¼ˆ20ï¼‰è¦†ç›–ï¼Œæ‰€ä»¥æˆ‘ä»¬çš„è®¡ç®—ç»“æœå°±ä¼šå˜æˆ 20 + 20ï¼Œæœ€ç»ˆå¾—åˆ° 40ã€‚")]),t._v(" "),s("p",[t._v("æ‰€ä»¥æˆ‘ä»¬è¦"),s("strong",[t._v("ç”¨ MapTo() æ–¹æ³•ï¼Œå°†æ³¨å…¥çš„å‚æ•°ä¸è¢«æ‰§è¡Œå‡½æ•°æ‰€éœ€çš„å‚æ•°é€šè¿‡ä¸åŒçš„ç±»å‹è¿›è¡Œå¯¹åº”")]),t._v("ã€‚è™½ç„¶åºŸäº†ç‚¹äº‹å„¿ï¼Œä½†ç¡®ä¿äº†ä»£ç æ‰§è¡Œçš„æ­£ç¡®æ€§ã€‚")]),t._v(" "),s("p",[t._v("ä¸ºä»€ä¹ˆç¤ºä¾‹ä¸­çš„ myInt å¾—æ˜¯ interface{} å‘¢ï¼Ÿå› ä¸ºåœ¨ inject æºç ä¸­ï¼Œæœ‰è¿™æ ·ä¸€æ®µï¼š")]),t._v(" "),s("div",{staticClass:"language-go extra-class"},[s("pre",{pre:!0,attrs:{class:"language-go"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("go")]),t._v("\nå¤åˆ¶ä»£ç "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("func")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("InterfaceOf")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("value "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("interface")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" reflect"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Type "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   t "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":=")]),t._v(" reflect"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("TypeOf")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Kind")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" reflect"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Ptr "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      t "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Elem")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Kind")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),t._v(" reflect"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Interface "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("panic")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Called inject.InterfaceOf with a value that is not a pointer to an interface. (*MyInterface)(nil)"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" t\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("çœ‹åˆ°äº†å—ï¼Ÿ"),s("strong",[t._v("å½“ value å‚æ•°ä¸å±äº reflect.Interface æ—¶ï¼Œä¼šå¼•å‘å®•æœº")]),t._v("ã€‚æ•´ä¸ª "),s("strong",[t._v("InterfaceOf() å‡½æ•°çš„ä½œç”¨å°±æ˜¯è·å– value å‚æ•°çš„ç±»å‹")]),t._v("ï¼Œè¿™ä¸ªå‡½æ•°"),s("strong",[t._v("åœ¨ MapTo() å‡½æ•°ä¸­è¢«è°ƒç”¨")]),t._v("ã€‚è¯•æƒ³ï¼Œå¦‚æœè¯¥å‡½æ•°åªèƒ½æ¥æ”¶æŸç§ç‰¹å®šçš„å‚æ•°ï¼Œå°±ä¼šä½¿æ³¨å…¥å‚æ•°æ—¶çš„ç±»å‹å˜å¾—å•ä¸€åŒ–ï¼Œä½¿ä¾èµ–æ³¨å…¥çš„ä½¿ç”¨å—é™ã€‚")]),t._v(" "),s("h2",{attrs:{id:"å°ç»“"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å°ç»“"}},[t._v("#")]),t._v(" å°ç»“")]),t._v(" "),s("p",[t._v("ğŸ‰ æ­å–œï¼Œæ‚¨å®Œæˆäº†æœ¬æ¬¡è¯¾ç¨‹çš„å­¦ä¹ ï¼")]),t._v(" "),s("p",[t._v("ğŸ“Œ ä»¥ä¸‹æ˜¯æœ¬æ¬¡è¯¾ç¨‹çš„é‡ç‚¹å†…å®¹æ€»ç»“ï¼š")]),t._v(" "),s("ol",[s("li",[t._v("æ§åˆ¶åè½¬ä¸ä¾èµ–æ³¨å…¥")])]),t._v(" "),s("p",[t._v("æœ¬è®²ç»§ç»­æ·±å…¥æ¢è®¨ Go åå°„çš„ä½¿ç”¨ã€‚")]),t._v(" "),s("p",[t._v("é¦–å…ˆä»‹ç»äº†"),s("strong",[t._v("æ§åˆ¶åè½¬")]),t._v("çš„æ¦‚å¿µã€‚æ¦‚æ‹¬åœ°è®²å°±æ˜¯"),s("strong",[t._v("é€šè¿‡æ¡†æ¶å®ç°å‡½æ•°çš„è°ƒç”¨")]),t._v("ã€‚å®ƒå’Œä¼ ç»Ÿä¸»åŠ¨å‘èµ·å‡½æ•°è°ƒç”¨çš„æœ€å¤§åŒºåˆ«ä¹Ÿå°±åœ¨äº"),s("strong",[t._v("ä¸»åŠ¨è°ƒç”¨è¡Œä¸ºå˜æˆé—´æ¥è¡Œä¸º")]),t._v("ã€‚ä¼˜åŠ¿åœ¨äº"),s("strong",[t._v("è°ƒç”¨æ–¹å’Œæ‰§è¡Œæ–¹çš„è§£è€¦")]),t._v("ï¼Œä½¿æ„å»ºåŠ¨æ€è°ƒç”¨å‡½æ•°çš„ä»£ç æˆä¸ºå¯èƒ½ã€‚")]),t._v(" "),s("p",[s("strong",[t._v("ä¾èµ–æ³¨å…¥æ˜¯å®ç°æ§åˆ¶åè½¬çš„é€”å¾„ä¹‹ä¸€")]),t._v("ï¼Œæœ¬è®²ä½¿ç”¨ inject åŒ…æ¼”ç¤ºäº†æ•´ä¸ªä½¿ç”¨è¿‡ç¨‹ã€‚ä¸ºäº†æ›´é€å½»åœ°ç†è§£å…¶ä½¿ç”¨æ–¹æ³•ï¼Œæˆ‘å¸¦ç€å¤§å®¶è¯¦ç»†é˜…è¯»äº† inject åŒ…æºç ï¼Œåœ¨è§£ç­”å…¶ä½¿ç”¨ä¸Šçš„ç–‘æƒ‘çš„åŒæ—¶æ›´åŠ æ·±äº†å¯¹åå°„çš„ç†è§£ã€‚")]),t._v(" "),s("p",[t._v("â¡ï¸ åœ¨ä¸‹æ¬¡è¯¾ç¨‹ä¸­ï¼Œæˆ‘ä»¬ä¼šä»‹ç» Go ç¨‹åºçš„æµ‹è¯•å’Œæ€§èƒ½è°ƒä¼˜ã€‚å…·ä½“å†…å®¹å¦‚ä¸‹ï¼š")]),t._v(" "),s("ol",[s("li",[t._v("å•å…ƒæµ‹è¯•ä¸åŸºå‡†æµ‹è¯•")])])])}),[],!1,null,null,null);s.default=e.exports}}]);